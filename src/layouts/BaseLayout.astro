---
import '../styles/global.css';
import LanguageSwitcher from '@components/LanguageSwitcher.astro';

interface Props {
	title?: string;
	description?: string;
	jsonLd?: any;
	locale?: 'es' | 'en';
}

const {
	title = 'German Montero Ramirez - Full-Stack Developer (.NET, Angular, Java, SSE)',
	description = 'Portafolio de German Montero Ramirez: .NET Core, Angular SSR, Java, SSE y optimizacion SQL. Proyectos, experiencia y contacto.',
	jsonLd,
	locale = 'es',
} = Astro.props as Props;

const site = 'https://portfolio-dext.vercel.app';
const image = `${site}/og-cover.png`;
---

<head>
	<meta charset='utf-8' />
	<meta name='viewport' content='width=device-width, initial-scale=1' />
	<title>{title}</title>
	<meta name='description' content={description} />

	<meta property='og:type' content='website' />
	<meta property='og:title' content={title} />
	<meta property='og:description' content={description} />
	<meta property='og:url' content={site + Astro.url.pathname} />
	<meta property='og:image' content={image} />

	<meta name='twitter:card' content='summary_large_image' />
	<meta name='twitter:title' content={title} />
	<meta name='twitter:description' content={description} />
	<meta name='twitter:image' content={image} />

	<link rel='stylesheet' href='/styles/00-tokens.css' />
	<link rel='stylesheet' href='/styles/01-base.css' />
	<link rel='stylesheet' href='/styles/02-utilities.css' />
	<link rel='stylesheet' href='/styles/03-components.css' />
	<link rel='stylesheet' href='/styles/04-layouts.css' />
	<link rel='stylesheet' href='/styles/themes/light.css' />
</head>
<main>
	<header class='layout-topbar'>
		<LanguageSwitcher locale={locale} />
	</header>
	<slot />
</main>
{jsonLd && (
	<script type='application/ld+json'>{JSON.stringify(jsonLd)}</script>
)}
<script is:inline>
	const saved = localStorage.getItem('theme');
	if (saved === 'dark')
		document.documentElement.setAttribute('data-theme', 'dark');
</script>

<style>
	.layout-topbar {
		display: flex;
		justify-content: flex-end;
		padding: 0.75rem 1rem;
	}
</style>
