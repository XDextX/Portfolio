---
import AvatarCircle from "./AvatarCircle.astro";
import Pill from "./Pill.astro";
import { ABOUT,JsonLdAbout } from "../data/about";
export interface Props {
  lang?: "es" | "en";
  withJsonLd?: boolean;
}
const { lang = "es", withJsonLd = true } = Astro.props;
const personJsonLd = withJsonLd ? JsonLdAbout : null;
---

<section class="section about" aria-labelledby="about-title" >
  {personJsonLd && (
    <script type="application/ld+json">{JSON.stringify(personJsonLd)}</script>
  )}

  <div class="left">
    <AvatarCircle  src={ABOUT.avatar}  alt="German Montero Ramírez"  fluid={true}  fluidMin={800}  fluidMax={800}  fluidViewport={180}  border={true}  ringWidth={2}  />
  </div>

  <div class="right">
    <h1 id="about-title" class="name">{ABOUT.name}</h1>
    <div class="row">
      <Pill text={ABOUT.title} variant="success" size="md" outlined />
      <span class="dot" aria-hidden="true">•</span>
      <span class="loc" aria-label={lang === "es" ? "Ubicación" : "Location"}>{ABOUT.location}</span>
    </div>

    <p >
      {ABOUT.bio[lang]}
    </p>

    <nav class="flex gap-2 wrap" aria-label={lang === "es" ? "Acciones" : "Actions"}>
      <a class="btn primary" href={ABOUT.resumeUrl} target="_blank" download="German-Montero-Ramirez-CV.pdf" rel="noopener">
        {lang === "es" ? "Descargar CV" : "Download Resume"}
      </a>
      <a class="btn accent-color" href="mailto:germonram@gmail.com" target="_blank" rel="noopener me">Email</a>
      <a class="btn accent-color" href="https://github.com/XDextX" target="_blank" rel="noopener me">GitHub</a>
      <a class="btn accent-color" href="https://www.linkedin.com/in/german-montero-ramirez/" target="_blank" rel="noopener me">LinkedIn</a>
    </nav>
  </div>
</section>

<style>
  .about{
    display:grid; grid-template-columns: 280px 1fr; gap:1.2rem; align-items:center;
    background-color: var(--card-background);
  }
  @media (max-width: 900px){ .about{ grid-template-columns: 1fr; text-align:left; } }

  .name{ color:var(--accent-color); margin:.2rem 0 .4rem 0; font-size:1.6rem; font-weight:800; }
  .row{ display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; color:var(--text-color); margin-bottom:.6rem; }
  .dot{ opacity:.35 }
  .loc{ color:var(--neutral-300) }  
</style>
