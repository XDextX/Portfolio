---
export interface Props {
	label: string; // texto del pill
	href?: string; // opcional: vuelve el pill clickeable
	variant?: 'neutral' | 'info' | 'success' | 'warning' | 'danger' | 'primary';
	size?: 'sm' | 'md';
	outline?: boolean; // borde en lugar de fondo s√≥lido
	ariaLabel?: string; // accesibilidad
}

const {
	label,
	href,
	variant = 'neutral',
	size = 'md',
	outline = false,
	ariaLabel = label,
} = Astro.props;

const Tag = href ? 'a' : 'span';
---

<Tag
	class={`pill ${variant} ${size} ${outline ? 'outline' : ''}`}
	{...href ? { href, target: '_blank', rel: 'noopener noreferrer' } : {}}
	aria-label={ariaLabel}
	title={label}
>
	<slot name='icon' />
	{label}
</Tag>

<style>
	.pill {
		display: inline-flex;
		align-items: center;
		gap: 0.4rem;
		border-radius: 999px;
		padding: 0.35rem 0.6rem;
		line-height: 1;
		font-weight: 600;
		border: 1px solid transparent;
		user-select: none;
		white-space: nowrap;
	}
	.pill.sm {
		font-size: 0.72rem;
		padding: 0.28rem 0.5rem;
	}
	.pill.md {
		font-size: 0.8rem;
		padding: 0.35rem 0.65rem;
	}

	/* Colores: puedes ajustar con variables de tema */
	.pill.neutral {
		background: #f5f5f5;
		color: #333;
		border-color: #e5e5e5;
	}
	.pill.info {
		background: #eaf2ff;
		color: #2257a3;
		border-color: #cfe2ff;
	}
	.pill.success {
		background: #eaf7ec;
		color: #287a37;
		border-color: #c9e6cd;
	}
	.pill.warning {
		background: #fff5e6;
		color: #a66300;
		border-color: #ffe0b3;
	}
	.pill.danger {
		background: #ffebee;
		color: #b71c1c;
		border-color: #ffcdd2;
	}
	.pill.primary {
		background: #eef2ff;
		color: #3730a3;
		border-color: #e0e7ff;
	}

	.pill.outline {
		background: transparent;
	}
	.pill.outline.neutral {
		color: #555;
		border-color: #d9d9d9;
	}
	.pill.outline.info {
		color: #2257a3;
		border-color: #cfe2ff;
	}
	.pill.outline.success {
		color: #287a37;
		border-color: #c9e6cd;
	}
	.pill.outline.warning {
		color: #a66300;
		border-color: #ffe0b3;
	}
	.pill.outline.danger {
		color: #b71c1c;
		border-color: #ffcdd2;
	}
	.pill.outline.primary {
		color: #3730a3;
		border-color: #e0e7ff;
	}

	.pill :global(svg) {
		width: 14px;
		height: 14px;
	}
</style>
