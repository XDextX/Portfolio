---
import ExperienceCard from './ExperienceCard.astro';
import { EXPERIENCES } from '../data/experience';
import { t } from '@i18n/index';

export interface Props {
	locale?: 'es' | 'en';
}

const { locale = 'es' } = Astro.props as Props;
const titleId = 'work-exp-title';
const title = t('experience.title');
---

<section class='card exp-section' aria-labelledby={titleId}>
	<h2 id={titleId}>{title}</h2>

	<div class='grid grid-2 gap-2'>
		{
			EXPERIENCES.map((e) => (
				<ExperienceCard
					role={e.role[locale]}
					company={e.company}
					period={e.period[locale]}
					location={e.location?.[locale]}
					bullets={e.bullets[locale]}
				/>
			))
		}
	</div>
</section>

<style>
	.exp-section {
		border: 1px solid #3a4056;
		background: var(--card-background);
		padding: 1rem;
	}
	.exp-section > h2 {
		color: #7de089;
		margin: 0.25rem 0 1rem 0;
		font-size: 1.2rem;
	}

	@media (max-width: 980px) {
		.grid {
			grid-template-columns: 1fr;
		}
	}
</style>
